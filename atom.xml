<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[LearnLog]]></title>
  <link href="http://samsel.github.io/atom.xml" rel="self"/>
  <link href="http://samsel.github.io/"/>
  <updated>2013-07-27T15:53:26-07:00</updated>
  <id>http://samsel.github.io/</id>
  <author>
    <name><![CDATA[Sam Selvanathan]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[undefined in Javascript]]></title>
    <link href="http://samsel.github.io/blog/2013/07/27/undefined-in-javascript/"/>
    <updated>2013-07-27T13:57:00-07:00</updated>
    <id>http://samsel.github.io/blog/2013/07/27/undefined-in-javascript</id>
    <content type="html"><![CDATA[<p>Javascript is so flexible that sometimes not knowing to use it safely
would end up causing pitfalls. This post explains the traps of <em>undefined</em>
in Javascript and ways to overcome them.</p>

<p>Undefined is not a Javascript reserved keyword but it is one of its six primitive data types.</p>

<figure class='code'><figcaption><span>Data types in Javascript</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">string</span><span class="p">,</span> <span class="nx">number</span><span class="p">,</span> <span class="kr">boolean</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="kc">undefined</span><span class="p">,</span> <span class="nx">object</span>
</span></code></pre></td></tr></table></div></figure>


<p>Undefined is implemented in Javascript as a property of the global object with value <em>undefined</em>.
It is the the default value for all initialized variables with no assignment and functions
without any return value.</p>

<figure class='code'><figcaption><span>Type Test</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="c1">//example 1</span>
</span><span class='line'><span class="k">typeof</span> <span class="kc">undefined</span> <span class="c1">// &quot;undefined&quot;</span>
</span><span class='line'>
</span><span class='line'><span class="c1">//example 2</span>
</span><span class='line'><span class="kd">var</span> <span class="nx">a</span><span class="p">;</span>
</span><span class='line'><span class="k">typeof</span> <span class="nx">a</span> <span class="c1">// &quot;undefined&quot;</span>
</span><span class='line'>
</span><span class='line'><span class="c1">//example 3</span>
</span><span class='line'><span class="kd">function</span> <span class="nx">sample</span><span class="p">()</span> <span class="p">{}</span>
</span><span class='line'><span class="nx">sample</span><span class="p">()</span> <span class="c1">// returns undefined</span>
</span><span class='line'>
</span><span class='line'><span class="c1">//example 4</span>
</span><span class='line'><span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="p">{};</span>
</span><span class='line'><span class="nx">b</span><span class="p">.</span><span class="nx">test</span> <span class="c1">// returns undefined</span>
</span></code></pre></td></tr></table></div></figure>


<p>The interesting thing about undefined in Javascript is that it is
mutable. The language allows different values of different data types
to be set on <em>undefined</em> which might cause some worse programming behaviours.
Some examples of assigning values to <em>undefined</em> are as below.</p>

<figure class='code'><figcaption><span>Assign values to undefined</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="c1">//example 1</span>
</span><span class='line'><span class="kd">var</span> <span class="kc">undefined</span> <span class="o">=</span> <span class="s2">&quot;s&quot;</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="c1">//example 2</span>
</span><span class='line'><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">typeof</span> <span class="kc">undefined</span><span class="p">;</span> <span class="c1">// &quot;string&quot;</span>
</span><span class='line'><span class="p">}(</span><span class="s2">&quot;1&quot;</span><span class="p">));</span>
</span><span class='line'>
</span><span class='line'><span class="c1">//example 3</span>
</span><span class='line'><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">typeof</span> <span class="kc">undefined</span><span class="p">;</span> <span class="c1">// &quot;number&quot;</span>
</span><span class='line'><span class="p">}(</span><span class="mi">1</span><span class="p">));</span>
</span></code></pre></td></tr></table></div></figure>


<p>One of the most prominant ways to avoid the above effect of assigning unwanted
values to undefined and to make sure that undefined has it default intented value
is to use the below pattern. It could be seen in jQuery source and a lot of plugins as well.</p>

<figure class='code'><figcaption><span>undefined reset</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="kc">undefined</span><span class="p">,</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">typeof</span> <span class="kc">undefined</span><span class="p">;</span> <span class="c1">// &quot;undefined&quot;</span>
</span><span class='line'><span class="p">}(</span><span class="s2">&quot;1&quot;</span><span class="p">));</span>
</span></code></pre></td></tr></table></div></figure>


<p>Another way to make sure that undefined is set properly is to use the
uncommon Javascript language feature <em>void</em>.
It is a function in javascript which when used with an expression, executes the
expression and returns <em>undefined</em>.</p>

<figure class='code'><figcaption><span>undefined reset</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="c1">//example 1</span>
</span><span class='line'><span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="k">void</span> <span class="p">(</span><span class="mi">2</span><span class="o">+</span><span class="mi">3</span><span class="p">);</span>
</span><span class='line'><span class="k">typeof</span> <span class="nx">a</span> <span class="c1">// &quot;undefined&quot;</span>
</span><span class='line'>
</span><span class='line'><span class="c1">//example 2</span>
</span><span class='line'><span class="k">void</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span> <span class="c1">// returns undefined</span>
</span></code></pre></td></tr></table></div></figure>

]]></content>
  </entry>
  
</feed>
