<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html" charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><title>undefined in JavaScript | learn log</title><meta name="description" content=""><meta name="HandheldFriendly" content="True"><meta name="MobileOptimized" content="320"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="stylesheet" type="text/css" href="/css/screen.css"><link rel="stylesheet" type="text/css" href="/css/style.css"><meta name="generator" content="learn log"><link rel="alternate" type="application/atom+xml" title="Atom 0.3" href="atom.xml"></head><body class="home-template"><div id="perspective" class="perspective effect-movedown"><div class="container"><div class="wrapper"><header class="site-head" style="background: #24282b url(/img/img-bg.jpg) 0 -20%"><div class="vertical"><div class="site-head-content inner"><a class="blog-logo" href="/"><img src="/img/logo.svg" alt="Blog Logo"></a><h1 class="blog-title">learn log</h1><h2 class="blog-description"><button id="showMenu">Show Menu</button></h2></div></div></header><main class="content" role="main"><article class="post"><span class="post-meta"><time datetime="2013-07-12T03:13:22.000Z" itemprop="datePublished">Jul 11 2013</time> | <a href="/tags/javascript/">javascript</a></span><h1 class="post-title">undefined in JavaScript</h1><section class="post-content"><p>JavaScript is very flexible that sometimes not knowing to use it safely<br>would end up causing pitfalls. This post explains the traps of <em>undefined</em><br>in JavaScript and ways to overcome them.</p><p><em>undefined</em> is one of JavaScript’s six primitive data types.</p><figure class="highlight javascript"><figcaption><span>data types</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">string, number, boolean, <span class="literal">null</span>, <span class="literal">undefined</span>, object</div></pre></td></tr></table></figure><p><em>undefined</em> is implemented in Javascript as a property of the global object with value <em>undefined</em>. It is the the default value for all initialized variables with no assignment and functions without any return value.</p><figure class="highlight javascript"><figcaption><span>type test</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//example 1</span></div><div class="line"><span class="keyword">typeof</span> <span class="literal">undefined</span> <span class="comment">// "undefined"</span></div><div class="line"><span class="comment">//</span></div><div class="line"><span class="comment">//example 2</span></div><div class="line"><span class="keyword">var</span> a;</div><div class="line"><span class="keyword">typeof</span> a <span class="comment">// "undefined"</span></div><div class="line"><span class="comment">//</span></div><div class="line"><span class="comment">//example 3</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">sample</span><span class="params">()</span> </span>{}</div><div class="line">sample() <span class="comment">// returns undefined</span></div><div class="line"><span class="comment">//</span></div><div class="line"><span class="comment">//example 4</span></div><div class="line"><span class="keyword">var</span> b = {};</div><div class="line">b.test <span class="comment">// returns undefined</span></div></pre></td></tr></table></figure><p>The interesting thing about <em>undefined</em> is that it is mutable in versions of JavaScript below EcmaScript 5. The language allows different values of different data types to be set on <em>undefined</em> which might cause some worse programming behaviours. Some examples of assigning values to <em>undefined</em> are as below.</p><figure class="highlight javascript"><figcaption><span>assign values to undefined</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//example 1</span></div><div class="line"><span class="keyword">var</span> <span class="literal">undefined</span> = <span class="string">"s"</span>;</div><div class="line"><span class="comment">//</span></div><div class="line"><span class="comment">//example 2</span></div><div class="line">(<span class="function"><span class="keyword">function</span><span class="params">(undefined)</span> </span>{ </div><div class="line">  <span class="keyword">typeof</span> <span class="literal">undefined</span>; <span class="comment">// "string"</span></div><div class="line">}(<span class="string">"1"</span>)); </div><div class="line"><span class="comment">//</span></div><div class="line"><span class="comment">//example 3</span></div><div class="line">(<span class="function"><span class="keyword">function</span><span class="params">(undefined)</span> </span>{ </div><div class="line">  <span class="keyword">typeof</span> <span class="literal">undefined</span>; <span class="comment">// "number"</span></div><div class="line">}(<span class="number">1</span>));</div></pre></td></tr></table></figure><p>One of the most prominant ways to avoid the above effect of assigning unwanted values to undefined and to make sure that undefined has it default intented value is to use the below pattern. It could be seen in jQuery source and a lot of plugins as well.</p><figure class="highlight javascript"><figcaption><span>undefined reset</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(<span class="function"><span class="keyword">function</span><span class="params">(undefined, undefined)</span> </span>{ </div><div class="line">	<span class="keyword">typeof</span> <span class="literal">undefined</span>; <span class="comment">// "undefined"</span></div><div class="line">}(<span class="string">"1"</span>));</div></pre></td></tr></table></figure><p>Another way to make sure that <em>undefined</em> is set properly is to use the uncommon JavaScript language feature <em>void</em>. It is a function which when used with an expression, executes the expression and returns <em>undefined</em>.</p><figure class="highlight javascript"><figcaption><span>undefined reset</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//example 1</span></div><div class="line"><span class="keyword">var</span> a = <span class="keyword">void</span> (<span class="number">2</span>+<span class="number">3</span>);</div><div class="line"><span class="keyword">typeof</span> a <span class="comment">// "undefined"</span></div><div class="line"></div><div class="line"><span class="comment">//example 2</span></div><div class="line"><span class="keyword">void</span>(<span class="number">0</span>); <span class="comment">// returns undefined</span></div></pre></td></tr></table></figure><p>But the best of all elegant solution would be to use strict mode. <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Strict_mode&quot;Strict mode&quot;" target="_blank" rel="external">Strict mode</a> in EcmaScript 5 changes all silently failing errors into throwable errors in JavaScript.</p><figure class="highlight javascript"><figcaption><span>'use strict'</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span><span class="params">()</span> </span>{</div><div class="line">	<span class="literal">undefined</span> = <span class="number">123</span>;</div><div class="line">}</div><div class="line"><span class="comment">//</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">bar</span><span class="params">()</span> </span>{</div><div class="line"><span class="pi">	'use strict'</span>;</div><div class="line">	<span class="literal">undefined</span> = <span class="number">123</span>;</div><div class="line">}</div><div class="line"><span class="comment">//</span></div><div class="line"><span class="comment">// foo function can be executed without any errors</span></div><div class="line">foo();</div><div class="line"><span class="comment">//</span></div><div class="line"><span class="comment">// but, executing bar, throws error because of the strict mode.</span></div><div class="line">bar();</div><div class="line"><span class="built_in">TypeError</span>: Cannot assign to read only property <span class="string">'undefined'</span> of [object <span class="built_in">Object</span>]</div></pre></td></tr></table></figure></section><footer class="post-footer"><section class="author"><h4>Sam Selvanathan</h4><p>the programmer in me...</p></section><section class="share"><h4>Share this post</h4><a class="icon-sina-weibo" href="http://v.t.sina.com.cn/share/share.php?title=the programmer in me... ?url=http://samsel.github.io/2013/07/11/undefined-in-JavaScript/" target="_blank"><span class="hidden">weibo</span></a> <a class="icon-twitter" href="http://twitter.com/share?url=http://samsel.github.io/2013/07/11/undefined-in-JavaScript/" onclick="return window.open(this.href,&quot;twitter-share&quot;,&quot;width=550,height=235&quot;),!1"><span class="hidden">Twitter</span></a> <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=http://samsel.github.io/2013/07/11/undefined-in-JavaScript/" onclick="return window.open(this.href,&quot;facebook-share&quot;,&quot;width=580,height=296&quot;),!1"><span class="hidden">Facebook</span></a> <a class="icon-google-plus" href="https://plus.google.com/share?url=http://samsel.github.io/2013/07/11/undefined-in-JavaScript/" onclick="return window.open(this.href,&quot;google-plus-share&quot;,&quot;width=490,height=530&quot;),!1"><span class="hidden">Google+</span></a></section></footer></article><nav class="pagination" role="pagination"><a class="newer-posts" href="/2014/09/20/the-paypal-logo-challenge/">← The PayPal Logo Challenge</a> <span class="icon-logo">•</span></nav><div id="comment" class="comments-area"><h4 class="title"><a href="#disqus_comments" name="disqus_comments">Comments</a></h4><div id="disqus_thread"><noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div></div></main><footer class="site-footer"><a class="subscribe icon-feed" href="atom.xml"><span class="tooltip">Subscribe!</span></a><div class="inner"><section class="copyright">All content copyright <a href="/">learn log</a> &copy; 2014 &bull; All rights reserved.</section><section class="poweredby">Proudly published with <a class="icon-ghost" href="http://zespia.tw/hexo/">Hexo</a></section></div></footer><script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script><script type="text/javascript" src="/js/jquery.fitvids.js"></script><script type="text/javascript" src="/js/index.js"></script><script type="text/javascript" src="/js/menu.js"></script><script type="text/javascript">var _gaq=_gaq||[];_gaq.push(["_setAccount","UA-42793939-1"]),_gaq.push(["_trackPageview"]),function(){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}();</script><script type="text/javascript">var disqus_shortname="learnlog";!function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="//"+disqus_shortname+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)}();</script></div></div><nav class="outer-nav top horizontal"><a class="icon-home" href="/"><span>Home</span></a> <a class="default" href="/projects"><span>Projects</span></a> <a class="default" href="/about"><span>About</span></a></nav></div></body></html>